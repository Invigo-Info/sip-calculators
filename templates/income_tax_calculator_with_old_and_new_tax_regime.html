<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Income Tax Calculator | Old vs New Tax Regime Comparison</title>
    <meta name="description" content="Compare income tax calculations between old and new tax regimes. Calculate your tax liability and find the best option for FY 2024-25 and FY 2025-26.">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/income_tax_calculator_with_old_and_new_tax_regime_style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Income Tax Calculator</h1>
            <p class="subtitle">Compare Old vs New Tax Regime for FY 2024-25 & FY 2025-26</p>
            <nav>
                <a href="/" class="home-btn">Home</a>
                <div class="mega-menu">
                    <button class="mega-menu-btn">
                        SIP CALCULATORS
                        <span class="dropdown-arrow">‚ñº</span>
                    </button>
                    <div class="mega-menu-content">
                        <div class="mega-menu-container">
                            <div class="mega-menu-section">
                                <h3 class="mega-section-title">üìä Basic SIP Calculators</h3>
                                <a href="/" class="mega-link">SIP Calculator</a>
                                <a href="/daily-sip-calculator/" class="mega-link">Daily SIP Calculator</a>
                                <a href="/monthly-sip-calculator/" class="mega-link">Monthly SIP Calculator</a>
                                <a href="/quarterly-sip-calculator/" class="mega-link">Quarterly SIP Calculator</a>
                                <a href="/yearly-sip-calculator/" class="mega-link">Yearly SIP Calculator</a>
                                <a href="/lump-sum-or-one-time-sip-calculator/" class="mega-link">Lump Sum SIP Calculator</a>
                            </div>
                            
                            <div class="mega-menu-section">
                                <h3 class="mega-section-title">üöÄ Advanced SIP Calculators</h3>
                                <a href="/step-up-sip-calculator/" class="mega-link">Step Up SIP Calculator</a>
                                <a href="/goal-sip-calculator/" class="mega-link">Goal SIP Calculator</a>
                                <a href="/reverse-sip-calculator/" class="mega-link">Reverse SIP Calculator</a>
                                <a href="/sip-delay-calculator/" class="mega-link">SIP Delay Calculator</a>
                                <a href="/swp-calculator/" class="mega-link">SWP Calculator</a>
                            </div>
                            
                            <div class="mega-menu-section">
                                <h3 class="mega-section-title">üí∞ SIP with Fees & Tax</h3>
                                <a href="/sip-calculator-with-expense-ratio/" class="mega-link">SIP with Expense Ratio</a>
                                <a href="/sip-calculator-with-inflation/" class="mega-link">SIP with Inflation</a>
                                <a href="/sip-calculator-with-inflation-and-tax/" class="mega-link">SIP with Inflation & Tax</a>
                                <a href="/sip-calculator-with-inflation-and-tax-2/" class="mega-link">SIP with Inflation & Tax 2</a>
                                <a href="/sip-exit-load-calculator/" class="mega-link">SIP Exit Load Calculator</a>
                            </div>
                            
                            <div class="mega-menu-section">
                                <h3 class="mega-section-title">üéØ Specialized SIP</h3>
                                <a href="/elss-sip-calculator/" class="mega-link">ELSS SIP Calculator</a>
                                <a href="/gold-sip-calculator/" class="mega-link">Gold SIP Calculator</a>
                                <a href="/cagr-sip-calculator/" class="mega-link">CAGR Calculator</a>
                                <a href="/index-fund-calculator/" class="mega-link">Index Fund Calculator</a>
                            </div>
                            
                            <div class="mega-menu-section">
                                <h3 class="mega-section-title">‚öñÔ∏è SIP Comparison Tools</h3>
                                <a href="/lumpsum-vs-sip-calculator/" class="mega-link">Lumpsum vs SIP</a>
                                <a href="/fd-vs-sip-calculator/" class="mega-link">FD vs SIP</a>
                                <a href="/rd-vs-sip-calculator/" class="mega-link">RD vs SIP</a>
                                <a href="/ppf-vs-sip-calculator/" class="mega-link">PPF vs SIP</a>
                                <a href="/sip-calculator-vs-interest-calculator/" class="mega-link">SIP vs Interest</a>
                            </div>
                            
                            <div class="mega-menu-section">
                                <h3 class="mega-section-title">üìà Analysis & Fee Tools</h3>
                                <a href="/expense-ratio-calculator/" class="mega-link">Expense Ratio Calculator</a>
                                <a href="/mutual-funds-expense-ratio-calculator/" class="mega-link">Mutual Fund Expense Ratio</a>
                                <a href="/exit-load-calculator/" class="mega-link">Exit Load Calculator</a>
                                <a href="/roi-calculator/" class="mega-link">ROI Calculator</a>
                                <a href="/xirr-calculator/" class="mega-link">XIRR Calculator</a>
                            </div>
                            
                            <div class="mega-menu-section">
                                <h3 class="mega-section-title">üè¶ Investment Tools</h3>
                                <a href="/fd-calculator/" class="mega-link">FD Calculator</a>
                                <a href="/rd-calculator/" class="mega-link">RD Calculator</a>
                                <a href="/epf-calculator/" class="mega-link">EPF Calculator</a>
                                <a href="/nps-calculator/" class="mega-link">NPS Calculator</a>
                                <a href="/compound-interest-calculator/" class="mega-link">Compound Interest Calculator</a>
                                <a href="/inflation-calculator/" class="mega-link">Inflation Calculator</a>
                                <a href="/ppf-calculator/" class="mega-link">PPF Calculator</a>
                            </div>
                            
                            <div class="mega-menu-section">
                                <h3 class="mega-section-title">üèõÔ∏è Government Schemes</h3>
                                <a href="/sukanya-samriddhi-yojana-calculator/" class="mega-link">SSY Calculator</a>
                                <a href="/atal-pension-yojana-calculator/" class="mega-link">APY Calculator</a>
                                <a href="/kisan-vikas-patra-calculator/" class="mega-link">Kisan Vikas Patra</a>
                                <a href="/national-savings-certificate-calculator/" class="mega-link">NSC Calculator</a>
                                <a href="/post-office-monthly-income-scheme-calculator/" class="mega-link">POMIS Calculator</a>
                                <a href="/senior-citizen-savings-scheme-calculator/" class="mega-link">SCSS Calculator</a>
                                <a href="/gratuity-calculator/" class="mega-link">Gratuity Calculator</a>
                            </div>
                            
                            <div class="mega-menu-section">
                                <h3 class="mega-section-title">üìä Stock & Analysis</h3>
                                <a href="/stock-average-calculator/" class="mega-link">Stock Average Calculator</a>
                                <a href="/stock-return-calculator/" class="mega-link">Stock Return Calculator</a>
                                <a href="/loan-amount-calculator/" class="mega-link">Loan Amount Calculator</a>
                                <a href="/loan-tenure-calculator/" class="mega-link">Loan Tenure Calculator</a>
                                <a href="/interest-rate-calculator/" class="mega-link">Interest Rate Calculator</a>
                                <a href="/income-tax-calculator-with-old-and-new-tax-regime/" class="mega-link active">Income Tax Calculator</a>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <div class="calculator-container">
            <!-- Left Side - Input Tabs -->
            <div class="input-sections">
                <!-- Tab Navigation -->
                <div class="tab-navigation">
                    <button class="tab-btn active" data-tab="basic-details">Basic Details</button>
                    <button class="tab-btn" data-tab="income-details">Income Details</button>
                    <button class="tab-btn" data-tab="deductions">Deductions</button>
                </div>

                <!-- Basic Details Tab -->
                <div class="tab-content active" id="basic-details">
                    <h2>Basic Details</h2>
                    <div class="input-grid">
                        <div class="input-group">
                            <label class="input-label">Financial Year</label>
                            <div class="select-container">
                                <select id="financialYear" class="custom-select">
                                    <option value="FY 2025-2026">FY 2025-2026 (Return to be filed between 1st April 2026 - 31st December 2026) - Latest</option>
                                    <option value="FY 2024-2025" selected>FY 2024-2025 (Return to be filed between 1st April 2025 - 31st December 2025)</option>
                                </select>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Age Group</label>
                            <div class="select-container">
                                <select id="ageGroup" class="custom-select">
                                    <option value="0-60" selected>0-60</option>
                                    <option value="60-80">60-80</option>
                                    <option value="80+">80 & above</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="tab-actions">
                        <button class="continue-btn" onclick="switchToTab('income-details')">Continue</button>
                    </div>
                </div>

                <!-- Income Details Tab -->
                <div class="tab-content" id="income-details">
                    <h2>Income Details</h2>
                    <div class="input-grid">
                        <div class="input-group">
                            <label class="input-label">Income from Salary</label>
                            <div class="input-field-container">
                                <input type="number" id="salary" value="0" min="0" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Exempt Allowances</label>
                            <div class="input-field-container">
                                <input type="number" id="exemptAllowances" value="0" min="0" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Self-occupied Property Loss</label>
                            <div class="input-field-container">
                                <input type="number" id="selfOccupiedPropertyLoss" value="0" min="0" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Rental Income</label>
                            <div class="input-field-container">
                                <input type="number" id="rentalIncome" value="0" min="0" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Digital Asset Income</label>
                            <div class="input-field-container">
                                <input type="number" id="digitalAssetIncome" value="0" min="0" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Interest on Home Loan (Let-out)</label>
                            <div class="input-field-container">
                                <input type="number" id="interestHomeLoanLetout" value="0" min="0" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Other Income</label>
                            <div class="input-field-container">
                                <input type="number" id="otherIncome" value="0" min="0" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>
                    </div>
                    <div class="tab-actions">
                        <button class="back-btn" onclick="switchToTab('basic-details')">Back</button>
                        <button class="continue-btn" onclick="switchToTab('deductions')">Continue</button>
                    </div>
                </div>

                <!-- Deductions Tab -->
                <div class="tab-content" id="deductions">
                    <h2>Deductions</h2>
                    <div class="input-grid">
                        <div class="input-group">
                            <label class="input-label">Section 80C (Max ‚Çπ1.5L)</label>
                            <div class="input-field-container">
                                <input type="number" id="section80C" value="0" min="0" max="150000" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Section 80D: Medical Insurance</label>
                            <div class="input-field-container">
                                <input type="number" id="section80D" value="0" min="0" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Section 80G: Donations</label>
                            <div class="input-field-container">
                                <input type="number" id="section80G" value="0" min="0" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Section 80TTA: Interest from Savings</label>
                            <div class="input-field-container">
                                <input type="number" id="section80TTA" value="0" min="0" max="10000" step="100">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Section 80CCD (1): Employee NPS</label>
                            <div class="input-field-container">
                                <input type="number" id="section80CCD1" value="0" min="0" max="50000" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Section 80CCD (2): Employer NPS</label>
                            <div class="input-field-container">
                                <input type="number" id="section80CCD2" value="0" min="0" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Section 80EEA: Housing Loan</label>
                            <div class="input-field-container">
                                <input type="number" id="section80EEA" value="0" min="0" max="150000" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>

                        <div class="input-group">
                            <label class="input-label">Other Deductions</label>
                            <div class="input-field-container">
                                <input type="number" id="otherDeductions" value="0" min="0" step="1000">
                                <span class="input-suffix">‚Çπ</span>
                            </div>
                        </div>
                    </div>
                    <div class="tab-actions">
                        <button class="back-btn" onclick="switchToTab('income-details')">Back</button>
                        <button class="calculate-btn" onclick="calculateIncomeTax()">View Calculation</button>
                    </div>
                </div>
            </div>

            <!-- Right Side - Output Panel (Fixed) -->
            <div class="results-section">
                <div class="results-header">
                    <h2>Tax Liability Summary</h2>
                </div>

                <!-- Tax Comparison Cards -->
                <div class="tax-comparison-grid">
                    <div class="tax-card old-regime-card">
                        <div class="card-header">
                            <h3>Old Regime Tax</h3>
                            <div class="regime-badge old">Old</div>
                        </div>
                        <div class="card-content">
                            <div class="tax-amount" id="oldRegimeTax">‚Çπ0</div>
                            <div class="tax-details">
                                <div class="detail-item">
                                    <span>Taxable Income:</span>
                                    <span id="oldRegimeTaxableIncome">‚Çπ0</span>
                                </div>
                                <div class="detail-item">
                                    <span>Deductions:</span>
                                    <span id="oldRegimeDeductions">‚Çπ0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tax-card new-regime-card">
                        <div class="card-header">
                            <h3>New Regime Tax</h3>
                            <div class="regime-badge new">New</div>
                        </div>
                        <div class="card-content">
                            <div class="tax-amount" id="newRegimeTax">‚Çπ0</div>
                            <div class="tax-details">
                                <div class="detail-item">
                                    <span>Taxable Income:</span>
                                    <span id="newRegimeTaxableIncome">‚Çπ0</span>
                                </div>
                                <div class="detail-item">
                                    <span>Standard Deduction:</span>
                                    <span id="newRegimeStandardDeduction">‚Çπ0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Savings Section -->
                <div class="savings-section">
                    <div class="savings-card">
                        <div class="savings-header">
                            <h3>Recommended Option</h3>
                        </div>
                        <div class="savings-content">
                            <div class="better-regime" id="betterRegime">Calculate to Compare</div>
                            <div class="savings-amount">
                                <span class="savings-label">You Save:</span>
                                <span class="amount" id="savingsAmount">‚Çπ0</span>
                            </div>
                            <div class="savings-message" id="savingsMessage">
                                Enter your details and click "View Calculation" to compare tax regimes
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="action-btn download-btn" onclick="downloadIncomeTaxPDF()">
                        <span class="btn-icon">üìÑ</span>
                        Download Report
                    </button>
                    <button class="action-btn reset-btn" onclick="resetIncomeTaxCalculator()">
                        <span class="btn-icon">üîÑ</span>
                        Reset Values
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Collapsible Results -->
        <div class="mobile-results-toggle">
            <button class="mobile-toggle-btn" onclick="toggleMobileResults()">
                <span class="btn-text">View Tax Summary</span>
                <span class="toggle-arrow">‚ñº</span>
            </button>
        </div>

        <div class="mobile-results-section hidden" id="mobileResultsSection">
            <div class="mobile-results-content">
                <!-- Same content as desktop results but optimized for mobile -->
                <div class="results-header">
                    <h2>Tax Liability Summary</h2>
                </div>

                <div class="tax-comparison-grid mobile">
                    <div class="tax-card old-regime-card mobile">
                        <div class="card-header">
                            <h3>Old Regime</h3>
                            <div class="regime-badge old">Old</div>
                        </div>
                        <div class="card-content">
                            <div class="tax-amount" id="mobileOldRegimeTax">‚Çπ0</div>
                        </div>
                    </div>

                    <div class="tax-card new-regime-card mobile">
                        <div class="card-header">
                            <h3>New Regime</h3>
                            <div class="regime-badge new">New</div>
                        </div>
                        <div class="card-content">
                            <div class="tax-amount" id="mobileNewRegimeTax">‚Çπ0</div>
                        </div>
                    </div>
                </div>

                <div class="savings-section mobile">
                    <div class="mobile-savings-summary">
                        <div class="better-regime-mobile" id="mobileBetterRegime">Calculate to Compare</div>
                        <div class="savings-amount-mobile">
                            <span>Save: </span>
                            <span class="amount" id="mobileSavingsAmount">‚Çπ0</span>
                        </div>
                    </div>
                </div>

                <!-- Mobile Action Buttons -->
                <div class="action-buttons mobile">
                    <button class="action-btn download-btn" onclick="downloadIncomeTaxPDF()">
                        <span class="btn-icon">üìÑ</span>
                        Download Report
                    </button>
                    <button class="action-btn reset-btn" onclick="resetIncomeTaxCalculator()">
                        <span class="btn-icon">üîÑ</span>
                        Reset Values
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Detailed Results Page (Initially Hidden) -->
    <div class="detailed-results-page hidden" id="detailedResultsPage">
        <div class="container">
            <div class="detailed-results-header">
                <button class="back-to-calculator-btn" onclick="hideDetailedResults()">
                    <span class="back-icon">‚Üê</span>
                    Back to Calculator
                </button>
                <div class="results-title">
                    <h1>Summary - <span id="detailedFY">FY 2024-2025</span> <span id="detailedAY">(AY 2025-2026)</span></h1>
                    <div class="results-actions">
                        <button class="recalculate-btn" onclick="hideDetailedResults()">
                            <span class="recalc-icon">üîÑ</span>
                            Recalculate
                        </button>
                    </div>
                </div>
            </div>

            <!-- Recommendation Banner -->
            <div class="recommendation-banner" id="recommendationBanner">
                <div class="recommendation-content">
                    <span class="recommendation-icon">üéØ</span>
                    <span class="recommendation-text" id="recommendationText">
                        New Tax Regime is recommended for you. It would save you ‚Çπ29,640 in taxes.
                    </span>
                </div>
                <button class="file-now-btn">File Now</button>
            </div>

            <!-- Regime Comparison Tabs -->
            <div class="regime-tabs">
                <button class="regime-tab active" data-regime="new" onclick="switchRegimeTab('new')">
                    New regime
                    <span class="recommended-badge" id="newRegimeBadge">Recommended</span>
                </button>
                <button class="regime-tab" data-regime="old" onclick="switchRegimeTab('old')">
                    Old regime
                </button>
            </div>

            <!-- Detailed Results Content -->
            <div class="detailed-results-content">
                <div class="results-layout">
                    <!-- Left Side - Charts and Summary -->
                    <div class="charts-section">
                        <div class="tax-comparison-chart">
                            <canvas id="detailedTaxChart"></canvas>
                        </div>
                        <div class="chart-legend">
                            <div class="legend-item">
                                <span class="legend-color total-income"></span>
                                <span class="legend-label">Total income</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color taxable-income"></span>
                                <span class="legend-label">Taxable income</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color deduction"></span>
                                <span class="legend-label">Deduction</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color tax-payable"></span>
                                <span class="legend-label">Tax payable</span>
                            </div>
                        </div>
                    </div>

                    <!-- Right Side - Detailed Breakdown -->
                    <div class="breakdown-section">
                        <div class="breakdown-item">
                            <div class="breakdown-label">Total income</div>
                            <div class="breakdown-value" id="detailedTotalIncome">‚Çπ9,00,000</div>
                        </div>

                        <div class="breakdown-item">
                            <div class="breakdown-label">Taxable income</div>
                            <div class="breakdown-value" id="detailedTaxableIncome">‚Çπ8,25,000</div>
                        </div>

                        <div class="breakdown-section-divider"></div>

                        <div class="breakdown-item">
                            <div class="breakdown-label">Exemption and deduction</div>
                            <div class="breakdown-value" id="detailedTotalDeductions">‚Çπ75,000</div>
                        </div>

                        <div class="breakdown-sub-item">
                            <div class="sub-label">Exempt Allowances</div>
                            <div class="sub-value" id="detailedExemptAllowances">‚Çπ0</div>
                        </div>

                        <div class="breakdown-sub-item">
                            <div class="sub-label" id="deductionTypeLabel">Standard Deductions</div>
                            <div class="sub-value" id="detailedStandardDeductions">‚Çπ75,000</div>
                        </div>

                        <div class="breakdown-sub-item" id="chapterDeductionsRow" style="display: none;">
                            <div class="sub-label">Chapter VI A Deductions</div>
                            <div class="sub-value" id="detailedChapterDeductions">‚Çπ0</div>
                        </div>

                        <div class="breakdown-section-divider"></div>

                        <div class="breakdown-item">
                            <div class="breakdown-label">Tax payable</div>
                            <div class="breakdown-value" id="detailedTaxPayable">‚Çπ0</div>
                        </div>

                        <div class="breakdown-sub-item">
                            <div class="sub-label">Income tax</div>
                            <div class="sub-value" id="detailedIncomeTax">‚Çπ0</div>
                        </div>

                        <div class="breakdown-sub-item">
                            <div class="sub-label">Surcharge</div>
                            <div class="sub-value" id="detailedSurcharge">‚Çπ0</div>
                        </div>

                        <div class="breakdown-sub-item">
                            <div class="sub-label">Health and education cess</div>
                            <div class="sub-value" id="detailedCess">‚Çπ0</div>
                        </div>
                    </div>
                </div>

                <!-- Filing Information -->
                <div class="filing-info">
                    <div class="filing-item">
                        <span class="filing-label">ITR filing due date:</span>
                        <span class="filing-value" id="filingDueDate">July 31, 2025</span>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="detailed-action-buttons">
                    <button class="detailed-download-btn" onclick="downloadDetailedPDF()">
                        <span class="btn-icon">üìÑ</span>
                        Download Detailed Report
                    </button>
                    <button class="detailed-file-btn">
                        <span class="btn-icon">üìã</span>
                        File ITR Now
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/income_tax_calculator_with_old_and_new_tax_regime_script.js') }}"></script>
</body>
</html>