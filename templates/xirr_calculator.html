<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XIRR Calculator - Calculate Extended Internal Rate of Return</title>
    <meta name="description" content="Calculate XIRR (Extended Internal Rate of Return) for irregular cash flows. Analyze your investment returns with our easy-to-use XIRR calculator.">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/nav-component.css') }}">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    
    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/xirr_calculator_style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>XIRR Calculator</h1>
            {% include 'navigation.html' %}
        </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Calculator Container -->
        <div class="calculator-container">
            <!-- Input Section -->
            <div class="input-sections">
                <section class="section">
                    <h2>üìÖ Cash Flow Entry</h2>
                    <div class="cash-flow-section">
                        <div class="section-description">
                            <p>Enter your investment and redemption cash flows. Negative amounts represent investments, positive amounts represent returns/withdrawals.</p>
                        </div>
                        
                        <!-- Cash Flow Rows Container -->
                        <div id="cashFlowsContainer">
                            <!-- Initial rows will be added by JavaScript -->
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="action-buttons">
                            <button type="button" class="add-row-btn" onclick="addCashFlowRow()">
                                ‚ûï Add Cash Flow
                            </button>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Results Section -->
            <div class="results-section">
                <section class="section">
                    <h2>üìä XIRR Analysis</h2>
                    
                    <!-- Summary Cards -->
                    <div class="summary-cards">
                        <div class="summary-card invested">
                            <div class="card-icon">üí∞</div>
                            <div class="card-content">
                                <div class="card-label">Total Invested</div>
                                <div class="card-value" id="totalInvestedDisplay">‚Çπ0</div>
                            </div>
                        </div>
                        
                        <div class="summary-card withdrawn">
                            <div class="card-icon">üíµ</div>
                            <div class="card-content">
                                <div class="card-label">Total Withdrawn</div>
                                <div class="card-value" id="totalWithdrawnDisplay">‚Çπ0</div>
                            </div>
                        </div>
                        
                        <div class="summary-card gain">
                            <div class="card-icon">üìà</div>
                            <div class="card-content">
                                <div class="card-label">Net Gain/Loss</div>
                                <div class="card-value" id="netGainLossDisplay">‚Çπ0</div>
                            </div>
                        </div>
                        
                        <div class="summary-card xirr">
                            <div class="card-icon">üéØ</div>
                            <div class="card-content">
                                <div class="card-label">XIRR</div>
                                <div class="card-value" id="xirrDisplay">--%</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chart Section -->
                    <div class="chart-section">
                        <h3>üìà Cumulative Cash Flow Over Time</h3>
                        <div class="chart-container">
                            <canvas id="cashFlowChart"></canvas>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- Information Section -->
        <section class="info-section">
            <div class="info-grid">
                <div class="info-card">
                    <h3>ü§î What is XIRR?</h3>
                    <p>XIRR (Extended Internal Rate of Return) calculates the annualized return rate for investments with irregular cash flows and timing. Unlike simple IRR, XIRR accounts for the exact dates of each transaction.</p>
                </div>
                
                <div class="info-card">
                    <h3>üìù How to Use</h3>
                    <ul>
                        <li>Enter investment amounts as negative values</li>
                        <li>Enter returns/withdrawals as positive values</li>
                        <li>Select the correct date for each transaction</li>
                        <li>Results will update automatically as you enter data</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <h3>üí° Example</h3>
                    <p><strong>Jan 1, 2023:</strong> -‚Çπ10,000 (Investment)<br>
                    <strong>Jun 1, 2023:</strong> -‚Çπ15,000 (Additional Investment)<br>
                    <strong>Dec 31, 2023:</strong> +‚Çπ28,000 (Redemption)<br>
                    <strong>Result:</strong> XIRR = 15.85% annually</p>
                </div>
                
                <div class="info-card">
                    <h3>‚ö†Ô∏è Important Notes</h3>
                    <ul>
                        <li>Minimum 2 cash flows required</li>
                        <li>At least one positive and one negative flow needed</li>
                        <li>Dates must be in chronological order</li>
                        <li>Results are annualized percentages</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>
    <script src="{{ url_for('static', filename='js/nav-component.js') }}"></script>
    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/xirr_calculator_script.js') }}"></script>
</body>
</html>
