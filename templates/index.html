<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIP Calculator with Inflation | Calculate Mutual Fund SIP Returns</title>
        <!-- Navigation component CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/nav-component.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/sip_calculator_style.css') }}">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- DEFINITIVE navigation styles - maximum specificity -->
    <!-- <style>
        /* Hide dropdown by default with ultimate specificity */
        div.container header nav .mega-menu .mega-menu-content {
            display: none !important;
            position: absolute !important;
            background: white !important;
            min-width: 780px !important;
            max-width: 900px !important;
            box-shadow: 0 8px 32px rgba(0,0,0,0.12) !important;
            z-index: 1000 !important;
            border-radius: 8px !important;
            padding: 0 !important;
            top: 100% !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            margin-top: 6px !important;
            border: 1px solid #e2e8f0 !important;
            backdrop-filter: blur(10px) !important;
        }
        
        /* Show dropdown when open class is present */
        div.container header nav .mega-menu.open .mega-menu-content {
            display: block !important;
            animation: slideDown 0.3s ease-out !important;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }
        
        /* Ensure grid layout works */
        div.container header nav .mega-menu .mega-menu-container {
            display: grid !important;
            grid-template-columns: repeat(2, 1fr) !important;
            gap: 0 !important;
            padding: 16px !important;
        }
        
        /* Test visibility with colored background when open */
        div.container header nav .mega-menu.open .mega-menu-content {
            /* background: #f0f9ff !important; */
            /* border: 2px solid #3182ce !important; */
            background: white !important; 
            border: 1px solid #e2e8f0 !important; 
        }
        
        /* Responsive */
        @media (max-width: 767px) {
            div.container header nav .mega-menu .mega-menu-content {
                min-width: 95vw !important;
                max-width: 95vw !important;
            }
            
            div.container header nav .mega-menu .mega-menu-container {
                grid-template-columns: repeat(1, 1fr) !important;
                gap: 15px !important;
                padding: 15px !important;
                padding: 12px !important;
            }
        }
        @media (max-width: 480px) {
            .home-btn,
            .mega-menu-btn {
                padding: 10px 16px;
                font-size: 13px;
                min-height: 40px;
            }
            
            .mega-menu-container {
                grid-template-columns: repeat(1, 1fr) !important;
                padding: 12px;
            }
        }
        
    </style> -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Complete self-contained navigation script -->
    <!-- <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Wait a moment to ensure all other scripts have loaded
            setTimeout(function() {
                const megaMenuBtn = document.querySelector('.mega-menu-btn');
                const megaMenu = document.querySelector('.mega-menu');
                const megaMenuContent = document.querySelector('.mega-menu-content');
                
                console.log('=== NAVIGATION DEBUG ===');
                console.log('Button found:', !!megaMenuBtn);
                console.log('Menu container found:', !!megaMenu);
                console.log('Menu content found:', !!megaMenuContent);
                
                if (megaMenuBtn && megaMenu) {
                    // Remove any existing event listeners
                    const newBtn = megaMenuBtn.cloneNode(true);
                    megaMenuBtn.parentNode.replaceChild(newBtn, megaMenuBtn);
                    
                    // Add fresh event listener
                    newBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        console.log('=== BUTTON CLICKED ===');
                        console.log('Before toggle - has open class:', megaMenu.classList.contains('open'));
                        
                        // Force toggle the class
                        if (megaMenu.classList.contains('open')) {
                            megaMenu.classList.remove('open');
                            console.log('Removed open class');
                        } else {
                            megaMenu.classList.add('open');
                            console.log('Added open class');
                        }
                        
                        console.log('After toggle - has open class:', megaMenu.classList.contains('open'));
                        console.log('Menu content display style:', window.getComputedStyle(megaMenuContent).display);
                    });
                    
                    // Close on outside click
                    document.addEventListener('click', function(e) {
                        if (!megaMenu.contains(e.target)) {
                            megaMenu.classList.remove('open');
                            console.log('Closed menu via outside click');
                        }
                    });
                    
                    console.log('Navigation initialized successfully!');
                } else {
                    console.error('Navigation elements not found!');
                }
            }, 100);
        });
    </script> -->
</head>
<body>
    <div class="container">
        <header>
            <h1>SIP Calculator with Inflation</h1>
            {% include 'navigation.html' %}
            
        </header>

        <div class="calculator-container">
            <div class="input-sections">
                <!-- SIP Calculation Section -->
                <div class="section">
                    <h2>Plan your SIP Investments with Inflation Adjustment</h2>
                    <div class="input-grid">
                        <div class="input-group">
                            <div class="input-row">
                                <label class="input-label">SIP Amount</label>
                                <div class="input-field-container">
                                    <input type="number" id="sipAmount" value="5000" min="500" max="1000000" step="500">
                                    <span class="input-suffix">₹</span>
                                </div>
                            </div>
                            <div class="slider-container">
                                <input type="range" id="sipAmountSlider" min="500" max="1000000" value="5000" step="500" class="custom-slider">
                                <div class="slider-track"></div>
                                <div class="slider-labels">
                                    <span>₹500</span>
                                    <span>₹10L</span>
                                </div>
                            </div>
                        </div>

                        <div class="input-group">
                            <div class="input-row">
                                <label class="input-label">SIP Frequency</label>
                                <div class="frequency-container">
                                    <select id="sipFrequency" class="frequency-select">
                                        <option value="daily">Daily</option>
                                        <option value="monthly" selected>Monthly</option>
                                        <option value="quarterly">Quarterly</option>
                                        <option value="yearly">Yearly</option>
                                        <option value="one-time">One-time</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="input-group">
                            <div class="input-row">
                                <label class="input-label">Expected Return Rate (In %)</label>
                                <div class="input-field-container">
                                    <input type="number" id="returnRate" value="12" min="8" max="25" step="0.5">
                                    <span class="input-suffix">%</span>
                                </div>
                            </div>
                            <div class="slider-container">
                                <input type="range" id="returnRateSlider" min="8" max="25" value="12" step="0.5" class="custom-slider">
                                <div class="slider-track"></div>
                                <div class="slider-labels">
                                    <span>8%</span>
                                    <span>12%</span>
                                    <span>15%</span>
                                    <span>20%</span>
                                    <span>25%</span>
                                </div>
                            </div>
                        </div>

                        <div class="input-group">
                            <div class="input-row">
                                <label class="input-label">Investment Period (Years)</label>
                                <div class="input-field-container">
                                    <input type="number" id="tenureYears" value="10" min="1" max="30" step="1">
                                    <span class="input-suffix">Yrs</span>
                                </div>
                            </div>
                            <div class="slider-container">
                                <input type="range" id="tenureYearsSlider" min="1" max="30" value="10" step="1" class="custom-slider">
                                <div class="slider-track"></div>
                                <div class="slider-labels">
                                    <span>1</span>
                                    <span>8</span>
                                    <span>15</span>
                                    <span>22</span>
                                    <span>30</span>
                                </div>
                            </div>
                        </div>

                        <div class="input-group">
                            <div class="input-row">
                                <label class="input-label">Inflation Rate (In %)</label>
                                <div class="input-field-container">
                                    <input type="number" id="inflationRate" value="6" min="3" max="12" step="0.25">
                                    <span class="input-suffix">%</span>
                                </div>
                            </div>
                            <div class="slider-container">
                                <input type="range" id="inflationRateSlider" min="3" max="12" value="6" step="0.25" class="custom-slider">
                                <div class="slider-track"></div>
                                <div class="slider-labels">
                                    <span>3%</span>
                                    <span>6%</span>
                                    <span>9%</span>
                                    <span>12%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div class="results-section">
                <div class="results-card-grid">
                    <div class="result-card invested-amount-card">
                        <div class="card-icon">💰</div>
                        <div class="card-content">
                            <div class="card-label">Total Invested</div>
                            <div class="card-value" id="totalInvestedResult">₹6,00,000</div>
                        </div>
                    </div>

                    <div class="result-card returns-card">
                        <div class="card-icon">📈</div>
                        <div class="card-content">
                            <div class="card-label">Expected Returns</div>
                            <div class="card-value" id="totalReturnsResult">₹5,52,923</div>
                        </div>
                    </div>

                    <div class="result-card maturity-card">
                        <div class="card-icon">🎯</div>
                        <div class="card-content">
                            <div class="card-label">Maturity Amount</div>
                            <div class="card-value" id="maturityAmountResult">₹11,52,923</div>
                        </div>
                    </div>

                    <div class="result-card inflation-adjusted-card">
                        <div class="card-icon">🏦</div>
                        <div class="card-content">
                            <div class="card-label">Inflation Adjusted Value</div>
                            <div class="card-value" id="inflationAdjustedResult">₹6,43,427</div>
                        </div>
                    </div>
                </div>

                <!-- Chart Section -->
                <div class="chart-section">
                    <div class="chart-header">Investment vs Returns Breakdown</div>
                    <div class="pie-chart-container">
                        <canvas id="sipBreakupChart"></canvas>
                    </div>
                    <div class="chart-summary">
                        <div class="summary-item">
                            <div class="color-indicator invested-amount"></div>
                            <div class="summary-label">Total Invested</div>
                            <div class="summary-amount" id="investedAmountDisplay">₹6,00,000</div>
                        </div>
                        <div class="summary-item">
                            <div class="color-indicator returns-amount"></div>
                            <div class="summary-label">Expected Returns</div>
                            <div class="summary-amount" id="returnsAmountDisplay">₹5,52,923</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Year-wise Breakdown Table Section -->
        <div class="amortization-section">
            <h2>Year-wise Investment Growth</h2>
            <div class="table-container">
                <table class="amortization-table" id="yearlyBreakdownTable">
                    <thead>
                        <tr>
                            <th>Year</th>
                            <th>Yearly Investment</th>
                            <th>Cumulative Investment</th>
                            <th>Expected Value</th>
                            <th>Returns Earned</th>
                            <th>Inflation Adjusted Value</th>
                        </tr>
                    </thead>
                    <tbody id="yearlyBreakdownBody">
                        <!-- Table rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="download-section">
                <p>Download or share your SIP calculation:</p>
                <div class="download-buttons">
                    <button class="download-btn pdf-btn" onclick="downloadPDF()">
                        <span class="btn-icon">📄</span>
                        Download PDF
                    </button>
                    <button class="download-btn excel-btn" onclick="downloadExcel()">
                        <span class="btn-icon">📊</span>
                        Download Excel
                    </button>
                    <button class="download-btn share-btn" onclick="shareLink()">
                        <span class="btn-icon">🔗</span>
                        Share Link
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation component JavaScript -->
    <script src="{{ url_for('static', filename='js/nav-component.js') }}"></script>
    <script src="{{ url_for('static', filename='js/sip_calculator_script.js') }}"></script>
</body>
</html> 
